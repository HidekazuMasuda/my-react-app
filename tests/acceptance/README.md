# 受け入れテスト

このディレクトリには、利用者のユースケースの立場で作成された自然言語による受け入れテストが含まれています。

## テストの構成

### 1. 自然言語受け入れテスト (`natural-language-tests.js`)

実際の利用者の行動パターンに基づいた基本的なテストシナリオ：

- **新規ユーザーの初回利用**: 初めてTODOアプリを使用するユーザーの体験
- **カレンダー機能**: カレンダーを使用した期限付きタスクの作成
- **タスク管理**: 完了状態の切り替えと管理
- **編集機能**: タスクのテキストと期限の編集
- **削除機能**: 不要なタスクの削除
- **データ永続化**: ページリロード後のデータ保持
- **エラーハンドリング**: 過去の日付入力時の適切なエラー表示

### 2. ユーザージャーニーテスト (`user-journey-tests.js`)

特定のユーザーペルソナの完全なワークフローをテスト：

- **学生の課題管理ジャーニー**: 複数の課題を管理し、期限を設定し、完了していく流れ
- **ビジネスパーソンの日次タスク管理**: 朝の予定設定から緊急タスク対応、翌日の準備まで
- **家族の予定管理ジャーニー**: 家族イベントの計画と実行管理

## 実行方法

### 個別実行

```bash
# 自然言語受け入れテストのみ
npm run test:acceptance

# ユーザージャーニーテストのみ
npm run test:journey

# 既存のE2Eテストのみ
npm run test:e2e
```

### 統合実行

```bash
# すべてのテスト（E2E + 受け入れ + ジャーニー）
npm run test:all

# 品質チェック + 全テスト
npm run test:full
```

## 前提条件

1. **開発サーバーの起動**: テスト実行前に `npm start` で開発サーバーを起動してください
2. **ポート3000**: アプリケーションが http://localhost:3000 で利用可能である必要があります
3. **ブラウザ**: Playwrightがサポートするブラウザ（Chromium/Chrome）が必要です

## テストの特徴

### 自然言語アプローチ
- テストコードが読みやすく、非技術者でも理解できる形式
- 実際のユーザーの行動パターンに基づいたシナリオ
- ビジネス要件との対応が明確

### 包括的なカバレッジ
- 基本機能から複雑なワークフローまで
- 異なるユーザーペルソナの観点
- エラーケースとエッジケースの考慮

### CI/CD統合
- 自動化された実行環境
- 詳細なレポート生成
- 失敗時の明確なエラー情報

## テスト結果の見方

テスト実行時には以下の情報が表示されます：

- ✅ **成功したテスト**: テストが期待通りに動作
- ❌ **失敗したテスト**: 問題が発見されたテスト（詳細なエラー情報付き）
- 📊 **統計情報**: 成功率、実行時間、総テスト数

## 新しいテストシナリオの追加

新しいユースケースを追加する場合：

1. **自然言語でシナリオを記述**: 「ユーザーが〜したい時、〜を行い、〜が期待される」
2. **適切なファイルに追加**: 基本機能なら `natural-language-tests.js`、完全なワークフローなら `user-journey-tests.js`
3. **テストの実行と検証**: 新しいテストが正しく動作することを確認

## 注意事項

- テストは実際のブラウザで実行されるため、実行中にブラウザウィンドウが表示されます
- テスト中はブラウザを操作しないでください
- テストデータは各テスト実行時にクリアされます（既存データに影響なし）